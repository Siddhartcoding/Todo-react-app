{"ast":null,"code":"import _toConsumableArray from \"D:/Todo-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _defineProperty from \"D:/Todo-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _regeneratorRuntime from \"D:/Todo-react-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/Todo-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/Todo-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\Todo-react-app\\\\src\\\\todoContext.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { createContext, useContext, useState } from \"react\";\nimport { useEffect } from \"react\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport { addTaskHandler, deleteTask, fetchTodo, updateTask } from \"./api/index.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar todoContext = /*#__PURE__*/createContext();\nexport function useValue() {\n  _s();\n\n  var value = useContext(todoContext);\n  return value;\n}\n\n_s(useValue, \"ksutO2/Ix3UeCrGnhyM+QEP505Y=\");\n\nfunction TodoContext(_ref) {\n  _s2();\n\n  var _ref2;\n\n  var children = _ref.children;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      Todo = _useState2[0],\n      setTodo = _useState2[1];\n\n  var _useState3 = useState({\n    edit: false,\n    task: {}\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isEdit = _useState4[0],\n      setisEdit = _useState4[1];\n\n  var userId = 1; // adding a functionality of competing a task\n\n  function completed(_x) {\n    return _completed.apply(this, arguments);\n  } // setting up function for updating the task\n\n\n  function _completed() {\n    _completed = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(task) {\n      var index;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              index = Todo.findIndex(function (elm) {\n                return elm.id === task.id;\n              });\n              setTodo(function (prev) {\n                prev[index].completed = true;\n                return _toConsumableArray(prev);\n              }); // setting up notification\n\n              toast.success(\"Task Completed Succesfully\");\n\n            case 3:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n    return _completed.apply(this, arguments);\n  }\n\n  function updateHandler(_x2, _x3) {\n    return _updateHandler.apply(this, arguments);\n  } // setting up functions for deleting a particular task\n\n\n  function _updateHandler() {\n    _updateHandler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(task, requested) {\n      var data;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              if (!requested) {\n                _context3.next = 3;\n                break;\n              }\n\n              setisEdit({\n                edit: true,\n                task: task\n              });\n              return _context3.abrupt(\"return\");\n\n            case 3:\n              toast.info(\"In Progress\");\n              _context3.next = 6;\n              return updateTask(task);\n\n            case 6:\n              data = _context3.sent;\n\n              if (data.success) {\n                toast.success(\"Task updated succesfully\");\n              } else {\n                toast.error(\"Error while updating\");\n              }\n\n              setisEdit({\n                edit: false,\n                task: {}\n              });\n\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n    return _updateHandler.apply(this, arguments);\n  }\n\n  function deleteHandler(_x4) {\n    return _deleteHandler.apply(this, arguments);\n  } //adding functionalty for adding a new todo task   \n\n\n  function _deleteHandler() {\n    _deleteHandler = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(id) {\n      var result, todo;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              toast.info(\"In progress\");\n              _context4.next = 3;\n              return deleteTask(id);\n\n            case 3:\n              result = _context4.sent;\n\n              if (result.success) {\n                todo = Todo.filter(function (data) {\n                  return data.id !== id;\n                });\n                setTodo(todo);\n                toast.success(\"Task deleted succesfully\");\n              } else {\n                toast.error(\"Error while deleting\");\n              }\n\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n    return _deleteHandler.apply(this, arguments);\n  }\n\n  function addData(_x5) {\n    return _addData.apply(this, arguments);\n  }\n\n  function _addData() {\n    _addData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(title) {\n      var data;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _context5.prev = 0;\n              toast.info(\"In progress\"); // You might want to use 'info' instead of 'error' for in-progress messages.\n\n              _context5.next = 4;\n              return addTaskHandler(title, userId);\n\n            case 4:\n              data = _context5.sent;\n\n              if (data.success) {\n                toast.success(\"Task added successfully\");\n                setTodo([data.data].concat(_toConsumableArray(Todo)));\n              } else {\n                toast.error(\"Error while adding task\");\n              }\n\n              _context5.next = 11;\n              break;\n\n            case 8:\n              _context5.prev = 8;\n              _context5.t0 = _context5[\"catch\"](0);\n              toast.error(\"Error while adding task\");\n\n            case 11:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5, null, [[0, 8]]);\n    }));\n    return _addData.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    function post() {\n      return _post.apply(this, arguments);\n    }\n\n    function _post() {\n      _post = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetchTodo();\n\n              case 2:\n                data = _context.sent;\n\n                if (data.success) {\n                  setTodo(data.data);\n                }\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _post.apply(this, arguments);\n    }\n\n    post();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(todoContext.Provider, {\n    value: (_ref2 = {\n      addData: addData,\n      isEdit: isEdit,\n      updateHandler: updateHandler,\n      deleteHandler: deleteHandler,\n      completed: completed\n    }, _defineProperty(_ref2, \"updateHandler\", updateHandler), _defineProperty(_ref2, \"Todo\", Todo), _ref2),\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }, this), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this);\n}\n\n_s2(TodoContext, \"EnFdCmZEGsE2ysEN3ccohooXZO4=\");\n\n_c = TodoContext;\nexport { todoContext };\nexport default TodoContext;\n\nvar _c;\n\n$RefreshReg$(_c, \"TodoContext\");","map":{"version":3,"names":["createContext","useContext","useState","useEffect","ToastContainer","toast","addTaskHandler","deleteTask","fetchTodo","updateTask","todoContext","useValue","value","TodoContext","children","Todo","setTodo","edit","task","isEdit","setisEdit","userId","completed","index","findIndex","elm","id","prev","success","updateHandler","requested","info","data","error","deleteHandler","result","todo","filter","addData","title","post"],"sources":["D:/Todo-react-app/src/todoContext.js"],"sourcesContent":["import { createContext , useContext, useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport { addTaskHandler, deleteTask\r\n,fetchTodo,updateTask } from \"./api/index.js\";\r\n\r\nconst todoContext = createContext();\r\n\r\nexport function  useValue(){\r\n    const value = useContext(todoContext);\r\n    return value;\r\n}\r\n\r\n\r\nfunction TodoContext ({children}){\r\n  const [Todo, setTodo] = useState ([]);\r\n  const [isEdit, setisEdit] = useState ({\r\n    edit:false,\r\n    task:{},\r\n  });\r\n  const userId = 1;\r\n\r\n  // adding a functionality of competing a task\r\n  async function completed(task) {\r\n    const index = Todo.findIndex((elm) => {\r\n      return elm.id === task.id;\r\n    });\r\n    setTodo((prev) => {\r\n      prev[index].completed = true;\r\n      return [...prev];\r\n    });\r\n    // setting up notification\r\n     toast.success( \"Task Completed Succesfully\");\r\n  }\r\n   // setting up function for updating the task\r\n  async function updateHandler(task, requested) {\r\n    if (requested) {\r\n      setisEdit({\r\n        edit: true,\r\n        task,\r\n      });\r\n      return;\r\n    }\r\n    toast.info(\"In Progress\");\r\n    const data = await updateTask(task);\r\n    if (data.success) {\r\n      toast.success(\"Task updated succesfully\");\r\n    } else {\r\n       toast.error(\"Error while updating\");\r\n     }\r\n     setisEdit({\r\n      edit: false,\r\n      task: {},\r\n     });\r\n    } \r\n// setting up functions for deleting a particular task\r\n\r\n    async function deleteHandler(id) {\r\n    toast.info (\"In progress\");\r\n      const result = await deleteTask(id);\r\n      if (result.success) {\r\n        const todo = Todo.filter((data) => {\r\n          return data.id !== id;\r\n        });\r\n        setTodo(todo);\r\n        toast.success(\"Task deleted succesfully\")\r\n      } else {\r\n        toast.error(\"Error while deleting\");\r\n      }\r\n    }   \r\n  //adding functionalty for adding a new todo task   \r\n  async function addData(title) {\r\n    try {\r\n      toast.info(\"In progress\"); // You might want to use 'info' instead of 'error' for in-progress messages.\r\n  \r\n      const data = await addTaskHandler(title, userId);\r\n  \r\n      if (data.success) {\r\n        toast.success(\"Task added successfully\");\r\n        setTodo([data.data, ...Todo]);\r\n      } else {\r\n        toast.error(\"Error while adding task\");\r\n      }\r\n    } catch (error) {\r\n      toast.error(\"Error while adding task\");\r\n      \r\n    }\r\n  }\r\n    useEffect(() => {\r\n      async function post() {\r\n       \r\n        const data = await fetchTodo();\r\n        if (data.success) {\r\n         \r\n          setTodo(data.data);\r\n        } \r\n      }\r\n  \r\n      post();\r\n    }, []);\r\n  \r\n\r\n    return(\r\n        <todoContext.Provider \r\n        value={{addData,isEdit,updateHandler,\r\n          deleteHandler,completed,\r\n          updateHandler,Todo\r\n         }}>\r\n          <ToastContainer />\r\n            {children}\r\n        </todoContext.Provider>\r\n    )\r\n}\r\nexport {todoContext};\r\nexport default TodoContext;"],"mappings":"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"},"metadata":{},"sourceType":"module"}